@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'VT323', monospace;
  color: #1A1A1A;  /* receipt-text color */
  background: #1A1A1A;
}

/* Effet de texture du papier */
.bg-receipt-paper {
  background-color: #FAF7F0;
  background-image:
    linear-gradient(90deg, rgba(26, 26, 26, 0.01) 1px, transparent 1px),
    linear-gradient(0deg, rgba(26, 26, 26, 0.01) 1px, transparent 1px);
  background-size: 12px 12px;
  position: relative;
}

/* Effet de papier usé */
.bg-receipt-paper::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.3;
  mix-blend-mode: multiply;
  pointer-events: none;
}


.hero-section {
  height: 32dvh;
  display: flex;
  justify-content: center;
}

.headings {
  width: 100%;
  top: 20%;
}
.headings h1 {
  font-size: 3rem;
  text-shadow: 0 2px 3px crimson;
}
.headings h2 {
  font-size: 1.5rem;
  text-shadow: 0 1px 2px black;
}


/*!* Animation de flottement *!*/
/*@keyframes float {*/
/*  0%, 100% {*/
/*    transform: translateY(0) rotate(0deg);*/
/*  }*/
/*  50% {*/
/*    transform: translateY(-5px) rotate(0.5deg);*/
/*  }*/
/*}*/

/*.animate-float {*/
/*  animation: float 6s ease-in-out infinite;*/
/*}*/

/* Styles pour le Markdown dans le ticket */
.prose-receipt {
  @apply prose-headings:font-receipt
    prose-headings:text-receipt-text
    prose-p:font-receipt
    prose-p:text-receipt-text
    prose-strong:text-receipt-text
    prose-strong:font-normal
    prose-ul:font-receipt
    prose-ul:text-receipt-text
    prose-li:font-receipt
    prose-blockquote:border-receipt-text/20
    prose-blockquote:bg-receipt-text/5
    prose-blockquote:font-receipt
    prose-blockquote:text-receipt-text/80
    prose-blockquote:not-italic;
}

/* Animation d'impression */
@keyframes print-receipt {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-print {
  animation: print-receipt 1.5s ease-out forwards;
}

/* Effet de bordure déchirée */
.receipt-tear {
  position: relative;
}

.receipt-tear::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -10px;
  width: 100%;
  height: 20px;
  background-image:
    linear-gradient(45deg, transparent 33.333%, #FAF7F0 33.333%, #FAF7F0 66.667%, transparent 66.667%),
    linear-gradient(-45deg, transparent 33.333%, #FAF7F0 33.333%, #FAF7F0 66.667%, transparent 66.667%);
  background-size: 20px 40px;
  background-position: 0 -20px;
}

/* Effet d'ombre sur les bords */
.receipt-shadow {
  box-shadow:
    0 0 10px rgba(0,0,0,0.1),
    0 0 20px rgba(0,0,0,0.08),
    0 0 30px rgba(0,0,0,0.06),
    0 1px 3px rgba(0,0,0,0.1);
}

/* Effet de texture supplémentaire */
.receipt-texture {
  position: relative;
  overflow: hidden;
}

.receipt-texture::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    -45deg,
    rgba(26, 26, 26, 0.01),
    rgba(26, 26, 26, 0.01) 1px,
    transparent 1px,
    transparent 6px
  );
  pointer-events: none;
}

/* Effet de froissement */
.receipt-crumple {
  position: relative;
}

.receipt-crumple::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(45deg, transparent 48%, rgba(26, 26, 26, 0.02) 49%, rgba(26, 26, 26, 0.02) 51%, transparent 52%),
    linear-gradient(-45deg, transparent 48%, rgba(26, 26, 26, 0.02) 49%, rgba(26, 26, 26, 0.02) 51%, transparent 52%);
  background-size: 12px 12px;
  pointer-events: none;
}

/* Effet de tâches de café */
.coffee-stains::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(
    circle at 80% 20%,
    rgba(139, 69, 19, 0.03) 0%,
    rgba(139, 69, 19, 0.02) 30%,
    transparent 70%
  ),
  radial-gradient(
    circle at 10% 90%,
    rgba(139, 69, 19, 0.04) 0%,
    rgba(139, 69, 19, 0.02) 40%,
    transparent 70%
  );
  pointer-events: none;
}

/* Effet d'usure sur les bords */
.worn-edges::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    linear-gradient(to right, rgba(26, 26, 26, 0.03) 0%, transparent 5%, transparent 95%, rgba(26, 26, 26, 0.03) 100%),
    linear-gradient(to bottom, rgba(26, 26, 26, 0.03) 0%, transparent 5%, transparent 95%, rgba(26, 26, 26, 0.03) 100%);
  pointer-events: none;
}

/* Légers plis aléatoires */
.random-creases {
  position: relative;
}

.random-creases::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(
    ${Math.random() * 360}deg,
    transparent,
    transparent 100px,
    rgba(26, 26, 26, 0.02) 100px,
    rgba(26, 26, 26, 0.02) 101px,
    transparent 102px
  );
  pointer-events: none;
}


.image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  user-select: none;
  pointer-events: none;
}

.image-after {
  clip-path: inset(0 100% 0 0); /* image "après" visible à 100% au départ */
  transition: clip-path 0.5s ease;
}

.image-after.no-transition {
  transition: none !important;
}

/* Scrollbar personnalisée */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #FAF7F0;
}

::-webkit-scrollbar-thumb {
  background: #1A1A1A;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #2A2A2A;
}

/* Ajustement des transitions */
.transition-all {
  transition-duration: 400ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}